---
layout: default
---

{% assign playlist = page %}
{% assign all_songs = site.songs %}

{% assign first_song_id = playlist.songs | first %}
{% assign first_song = all_songs | where: "id", first_song_id | first %}



<!-- ============================
     SCRIPT: DYNAMIC TRACK SWITCHING
============================= -->
<script>
document.addEventListener("DOMContentLoaded", function () {

  const allSongs = {{ site.songs | jsonify }};
  const playlistSongs = {{ playlist.songs | jsonify }};

  const iframe = document.getElementById("playlist-iframe");
  const titleEl = document.getElementById("song-title");
  const descEl = document.getElementById("song-description");
  const lyricsEl = document.getElementById("song-lyrics");

  const tiles = document.querySelectorAll(".playlist-tile");

  function getSongData(id) {
    return allSongs.find(s => s.id === id);
  }

  tiles.forEach(tile => {
    tile.addEventListener("click", () => {
      const songId = tile.dataset.song;
      const song = getSongData(songId);

      if (!song) return;

      // Update active tile
      tiles.forEach(t => t.classList.remove("active"));
      tile.classList.add("active");

      // Update YouTube embed
      iframe.src = "https://www.youtube.com/embed/" + song.youtube_id;

      // Update details
      titleEl.textContent = song.title;
      descEl.textContent = song.description || "";
      lyricsEl.innerHTML = song.lyrics || "";

      // Smooth scroll to details
      document.getElementById("song-details").scrollIntoView({
        behavior: "smooth",
        block: "start"
      });
    });
  });

});
</script>
